\documentclass{tudelft-report}

%% Set up the bibliography
\usepackage{biblatex}
\usepackage[utf8]{inputenc}
\usepackage{enumitem} 
\usepackage{titlesec} % For title formatting
\usepackage{comment}
\usepackage{tabularx}
\usepackage{float}
\usepackage{hyperref}
\usepackage[l3]{csvsimple}
\addbibresource{report.bib}
\usepackage{xifthen}
\usepackage{svg}



%% Additional packages and commands
\usepackage{parskip}
\setlist{itemsep=-2pt} % Reducing white space in lists slightly
\renewcommand{\deg}{\si{\degree}\xspace} % Use \deg easily, everywhere

%% JL added this to fix long names spilling over the margin.
\emergencystretch=2em

\titlespacing*{\section}
{0pt}{4.0ex plus 1ex minus .2ex}{2.2ex plus .2ex}
\titlespacing*{\subsection}
{0pt}{3.5ex plus 1ex minus .2ex}{1.8ex plus .2ex}
\titlespacing*{\subsubsection}
{0pt}{3.0ex plus 1ex minus .2ex}{1.5ex plus .2ex}

\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=cyan,
    pdftitle={Overleaf Example},
    pdfpagemode=FullScreen,
    }

\urlstyle{same}

% Define the instruction box style
\specialcomment{instruction}{\begingroup\color{red}\itshape}{\endgroup}
\excludecomment{instruction} % Exclude all instructions from printing

%% Jim's suggestioned contruct styles,
%% borrowed from Ian Horrocks' DL macros
\newcommand{\nsprefix}[1]{%
    \penalty0\hskip0pt\ifthenelse{\equal{#1}{}}%
    {}%
    {%
        {\footnotesize\textsf{#1}:}%
    }%
}

\newcommand{\cname}[2]{%
    \nsprefix{#1}%
    \textsf{#2}%
}
\newcommand{\opname}[2]{%
    \nsprefix{#1}%
    \textsl{#2}%
}
%%\newcommand{\dpname}[1]{\textsf{#1}}
\newcommand{\dpname}[2]{%
    \nsprefix{#1}%
    \textsl{#2}%
}
\newcommand{\ind}[2]{%
    \nsprefix{#1}%
    \textsf{#2}%
}


%% ----------------------------------------------------------------------
%%    Begin of document + Frontmatter (Roman page numbering)
%% ----------------------------------------------------------------------

\begin{document}




\frontmatter

%% Define the main parameters
\title{IOF Core Patterns}
\subtitle{A compendium of Semantic data Patterns based on IOF Core}
\author{IOF Core working group}

\subject{Draft} % Cover only
\affiliation{NIST} % Cover only
\coverimage{figures/College-Cover-Page.pdf} % Aspect ratio of 2:3 (portrait) recommended
\definecolor{title}{HTML}{fee7dd} % Color for cover title

% \makecover

\input{frontmatter/title-report}
\input{frontmatter/preface}
\input{frontmatter/summary}

\tableofcontents
%\listoffigures
%\listoftables

\input{frontmatter/glossary}

%% ----------------------------------------------------------------------
%%    Mainmatter (Arabic page numbering)
%% ----------------------------------------------------------------------

\mainmatter

\input{mainmatter/introduction}

%\input{mainmatter/chapter-4} % Create file to add

%% ----------------------------------------------------------------------
%%    Aspects and scenerios
%% ----------------------------------------------------------------------
\textit{
Only add aspects that are main chapters. Each scenario will be a section with TOC entry only with the scenario name. Compile scenarios under the aspect chapters below.
}

\input{mainmatter/space-location}
\input{mainmatter/time}
\input{mainmatter/objects-artifact-material}
\input{mainmatter/assembly-component}
\input{mainmatter/person-agent}
\input{mainmatter/system-organization}
\input{mainmatter/roles}
\input{mainmatter/changes}
\input{mainmatter/process-event}
\input{mainmatter/state-situation}
\input{mainmatter/information}
\input{mainmatter/planning}
\input{mainmatter/measurement}
\input{mainmatter/utility}

%% Prevent urls running into margins in bibliography
\setcounter{biburlnumpenalty}{7000}
\setcounter{biburllcpenalty}{7000}
\setcounter{biburlucpenalty}{7000}

%% Add bibliography
\printbibliography[heading=bibintoc,title=References]

%% ----------------------------------------------------------------------
%%    Appendix (Letters for chapters)
%% ----------------------------------------------------------------------

\appendix

\input{appendix/instructions}
\input{appendix/scenario-template}
\input{appendix/chapter-latex-instruction}
\end{document}
